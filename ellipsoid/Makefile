# ==================================================================================== #
# = Compiler settings
# ==================================================================================== #

CC      = gcc
CFLAGS = -O3 -march=native -fno-tree-vectorize

# ==================================================================================== #
# = Exe Files
# ==================================================================================== #

# assume an executable for each .c file
BINS  := $(patsubst %.c,%.out,$(wildcard *.c))

# ==================================================================================== #
# = Object Files
# ==================================================================================== #


all: $(BINS)

%.out: %.o
	$(CC) $< -o $@

%.o : %.c
	$(CC) $(CFLAGS) -c $< -o $@
	$(CC) $(CFLAGS) -fverbose-asm -S $<

clean:
	rm -rf *.o *.txt *.s
	rm -rf $(BINS)